// Aashna Mehta
// Power Rule Derivatives Program

#include <iostream>

using namespace std;

int main()
{
    int h, x, n;
    char v, m;
    // Terms Loop
    cout << "Please enter the number of terms in your function. " << endl;
    cin >> h;
    
    cout << "Enter the terms separated by spaces, Ex. 2x^5 + 3x^4 = 2x^5 3x^4" << endl;
    cout << "f(x) = ";
    
    for (int i = 0; i < h; ++i)
    {
        cin >> x >> v >> m >> n;
        x = x * n;
        n = n - 1;
        
        if (i == 0)
            cout << "f^-1(x) = ";
        
        if (i < (h-1) && (x > 0))  // Addition
            cout << x << v << m << n << " + ";
        else if  (i < (h-1) && (x < 0))   // Subtraction
            cout << x << v << m << n << " ";
        else if (i == (h-1))
            cout << x << v << m << n << endl;
        
    }
    return 0;
}
